<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.scss">
    <title>Select App</title>
    <style>
      .layout {
        width: 100%;
        display: flex;
        justify-content: center;
        padding-top: 5rem;
      }
    </style>
  </head>
  <body>
  <div class="layout">
    <div id="select"></div>
  </div>


  <script src="/main.js"></script>

  <script>

    const items = [
      {
        id: 1,
        name: 'Vue'
      },
      {
        id: 2,
        name: 'React'
      },
      {
        id: 3,
        name: 'Svelte'
      },
      {
        id: 4,
        name: 'Angular'
      }
    ]

    const newData = (value) => {
      const options = items.filter(elem => elem.name.includes(value))

      return new Promise(resolve => {
        setTimeout(() => {
          resolve(options)
        }, 1000)
      })
    }

    // const newData = (value) => {
    //   return items.filter(elem => elem.includes(value))
    // }

    const s = new CustomSelect('#select', {
      data: items,
      placeholder: 'select item',
      selected: 4,
      onSelected: newData,
      onInput: newData,
      once: false,
    })


  </script>
  </body>
</html>
